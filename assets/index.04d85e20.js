import{r as u,j as T,R as v,a as C}from"./vendor.8c21c9a2.js";const L=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};L();function E(r,e){const[s,a]=u.exports.useState(e),[o,n]=u.exports.useState(!0),[m,h]=u.exports.useState(!1);return u.exports.useEffect(()=>{setTimeout(()=>{try{let l=localStorage.getItem(r),c;l?c=JSON.parse(l):(localStorage.setItem(r,JSON.stringify(e)),c=e),a(c),n(!1)}catch(l){h(l)}},1e3)},[]),{toDo:s,guardarToDoList:l=>{try{let c=JSON.stringify(l);localStorage.setItem(r,c),a(l)}catch(c){h(c)}},loading:o,error:m}}const t=T.exports.jsx,D=T.exports.jsxs,y=T.exports.Fragment,g=v.createContext();function M({children:r}){const{toDo:e,guardarToDoList:s,loading:a,error:o}=E("toDos_v1",[]),[n,m]=u.exports.useState(""),[h,f]=u.exports.useState(!1);let l=e.filter(i=>i.complete!==!1).length,c=e.length,x=[];!n.length>=1?x=e:x=e.filter(i=>{let d=i.name.toLowerCase(),p=n.toLowerCase();return d.includes(p)});let S=i=>{let d=e.findIndex(N=>N.id===i),p=[...e];p[d]={id:p[d].id,name:p[d].name,complete:!0},s(p)},I=i=>{let d=e.filter(p=>p.id!==i);s(d)};const b=i=>{if(!i.trim()){alert("El nombre est\xE1 vac\xEDo, escribe algo");return}let d=[...e];d.push({id:d.length+1,name:i,complete:!1}),s(d)};return t(g.Provider,{value:{toDo:e,setToDo:s,loading:a,error:o,toDoCompleted:l,totalToDo:c,toDosBuscados:x,search:n,modal:h,addToDoModal:b,setModal:f,setSearch:m,toDoCompletado:S,toDoEliminado:I},children:r})}const B=()=>{const{search:r,setSearch:e}=u.exports.useContext(g);let s=a=>{e(a)};return t("div",{children:t("input",{type:"search",placeholder:"Buscar...",className:"TodoSearch",value:r,onChange:a=>s(a.target.value)})})};const O=()=>{const{toDoCompleted:r,totalToDo:e}=u.exports.useContext(g);return t("div",{children:D("h2",{className:"contador",children:["Haz completado ",r," de ",t("span",{children:e})," ToDos"]})})};const A=({completado:r,eliminado:e,completed:s,name:a})=>D("li",{className:"TodoItem",children:[t("span",{onClick:r,className:`Icon Icon-check ${s&&"Icon-check--active"}`,children:"\u221A"}),t("p",{className:`TodoItem-p ${s&&"TodoItem-p--complete"}`,children:a}),t("span",{onClick:e,className:"Icon Icon-delete",children:"X"})]});const j=({setModal:r})=>t("button",{className:"CreateTodoButton",type:"submit",onClick:()=>r(e=>!e),children:"+"});const k=({children:r})=>t("section",{children:t("ul",{children:r})});const P=({children:r})=>C.createPortal(t("div",{className:"ModalBackground",children:r}),document.getElementById("modal")),w=()=>{const{addToDoModal:r,setModal:e}=u.exports.useContext(g);return t(y,{children:D("form",{onSubmit:o=>{o.preventDefault();let n=document.getElementById("inputToDo").value;r(n),o.target.reset(),e(!1)},className:"app-modal",children:[t("textarea",{cols:"30",id:"inputToDo",name:"inputToDo",placeholder:"Escribe el nombre de tu tarea",rows:"10"}),D("div",{className:"buttons",children:[t("button",{onClick:o=>{o.preventDefault(),e(!1)},type:"button",children:"Cancelar"}),t("button",{type:"submit",children:"Agregar"})]})]})})},F=()=>{const{error:r,loading:e,toDoCompletado:s,toDoEliminado:a,toDosBuscados:o,totalToDo:n,modal:m,setModal:h}=u.exports.useContext(g);return D(y,{children:[t(O,{}),t(B,{}),r&&t("span",{children:"Hubo un error"}),",",e&&t("span",{children:"Cargando..."}),",",!e&&!n&&t("h2",{children:"No hay ToDos, \xA1crea el primero!"}),t(k,{children:o.map(({id:f,name:l,complete:c})=>t(A,{name:l,completed:c,completado:()=>s(f),eliminado:()=>a(f)},f))}),m&&t(P,{children:t(w,{})}),t(j,{setModal:h})]})};function R(){return t(M,{children:t(F,{})})}C.render(t(v.StrictMode,{children:t(R,{})}),document.getElementById("root"));
